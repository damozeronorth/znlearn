<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ZN ShipPalm Learning Help Centre</title>
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    rel="stylesheet"
  />
  <style>
    /* ADDED: Import Rubik Font */
    @import url('https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300..900;1,300..900&display=swap');

    body {
      background-color: #f7f8fb; /* BRAND COLOR */
      font-family: "Rubik", sans-serif;
    }

    /* Main content - Updated to full width */
    .main-content {
      margin-left: 0; /* REMOVED MARGIN LEFT */
      padding: 40px;
      /* Add padding bottom to ensure content isn't hidden behind the floating button */
      padding-bottom: 100px; 
    }
    
    /* --- BRAND COLOR OVERRIDES --- */
    .main-content h2.text-primary {
      color: #003143 !important; /* BRAND COLOR */
    }
    
    /* NEW BUTTON STYLE FOR HEADER BUTTONS */
    .header-buttons .btn {
      color: #156e80; /* Text color */
      border: 1px solid #156e80; /* Border color */
      background-color: transparent; /* Transparent background */
      border-radius: 8px; /* Slightly rounded corners */
      padding: 6px 12px; /* Adjust padding as needed */
      font-size: 14px; /* Adjust font size as needed */
    }
    .header-buttons .btn:hover {
      background-color: #e0f2f7; /* Light background on hover */
      color: #156e80; /* Text color on hover */
      border-color: #156e80; /* Border color on hover */
    }

    /* ZENORA Header */
    .zenora-header {
      background-color: #fff;
      border-radius: 16px;
      padding: 30px 25px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
      margin-bottom: 40px;
      position: relative; 
    }
    .zenora-header h1 {
      font-size: 26px;
      font-weight: 700;
      color: #003143; /* BRAND COLOR */
      margin-bottom: 8px;
      margin-right: 210px; 
      font-family: "Plau", sans-serif; 
    }
    .zenora-header p.subtitle {
      font-size: 16px;
      color: #555;
      margin-bottom: 20px;
    }
    .header-buttons {
      position: absolute;
      top: 30px;
      right: 25px;
    }
    .search-bar {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 20px;
    }
    .search-bar input {
      flex: 1;
      border-radius: 50px;
      border: 1px solid #CED4DA;
      padding: 10px 15px;
      font-size: 14px;
      transition: background-color 0.3s ease, color 0.3s ease; /* Added transition */
    }
    .search-bar button {
      border-radius: 50%;
      border: none;
      background-color: #156e80; /* CHANGED: New brand color */
      color: #fff;
      width: 45px;
      height: 45px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
    }
    
    /* --- ADDED: Disabled search bar styling --- */
    .search-bar input:disabled {
      background-color: #fff; /* Keep original background */
      border-color: #CED4DA; /* Keep original border */
      opacity: 1; /* Override default disabled opacity */
      cursor: not-allowed; /* Show 'not-allowed' cursor */
    }
    
    /* This class will be added by JavaScript on hover */
    .search-bar input.hover-effect {
      background-color: #156e80; /* BRAND COLOR */
      color: #fff; /* Make typed text (if any) white */
    }
    
    /* Style placeholder text on hover */
    .search-bar input.hover-effect::placeholder {
      color: #fff;
      opacity: 1; /* Ensure placeholder is fully visible */
    }
    /* --- END OF ADDED CSS --- */

    .zenora-intro {
      display: flex;
      align-items: flex-start;
      gap: 15px;
    }
    .zenora-intro img {
      width: 60px;
      height: 60px;
    }
    .zenora-intro-text h5 {
      margin-bottom: 5px;
      font-weight: 600;
      color: #156e80; /* CHANGED: New brand color */
    }
    .zenora-intro-text p {
      margin: 0;
      color: #555;
      font-size: 14px;
    }
    .card {
      border: 1px solid #eee; /* ADDED: Light border to match image */
      border-radius: 16px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
      min-height: 130px; 
    }
    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
    }
    
    /* ADDED: Cursor pointer for clickable cards */
    #get-started-card, #apps-card, #userguide-card, 
    #howtovideos-card, #faq-card, #whatsnew-card, #training-card {
      cursor: pointer;
    }
    
    .card i {
      font-size: 32px;
      color: #003143; /* CHANGED: Dark brand color */
      margin-bottom: 10px;
    }
    .card-title {
      font-size: 16px;
      font-weight: 600;
      color: #156e80; /* Card title color */
    }
    
    /* --- ADDED: CSS FOR HOVER EFFECT --- */
    .card-with-hover-text {
      position: relative; /* Needed to position hover content */
      overflow: hidden; /* Clips the content */
    }
    .card-normal-content {
      /* This is the default state (icon + title) */
      transition: opacity 0.3s ease-in-out;
    }
    .card-hover-content {
      /* This is the hidden state (text) */
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      display: flex; /* Used to center the text */
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 20px; /* Same as p-4 roughly */
      opacity: 0; /* Hidden by default */
      visibility: hidden;
      transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
      font-size: 14px;
      color: #333;
      background-color: #fff; /* Match card background to cover content */
    }
    .card-hover-content p {
      margin: 0; /* Remove default paragraph margin */
    }
    
    /* Don't hide on hover if it's a clickable card */
    .card-with-hover-text:hover .card-normal-content {
      /* On hover, hide the normal content */
      opacity: 0;
      visibility: hidden;
    }
    .card-with-hover-text:hover .card-hover-content {
      /* On hover, show the hover content */
      opacity: 1;
      visibility: visible;
    }
    /* --- END OF CSS --- */

    /* --- START CHATBOT WIDGET STYLES (Ported and Themed) --- */
    .chatbot-btn { 
        position: fixed; 
        bottom: 20px; 
        right: 20px; 
        background-color: #156e80; /* BRAND COLOR */
        color: white; 
        border: none; 
        border-radius: 50%; 
        width: 60px; 
        height: 60px; 
        font-size: 24px; 
        cursor: pointer; 
        z-index: 1050;
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }
    .chatbot-btn:hover {
        background-color: #003143;
    }

    .chatbot-container { 
        position: fixed; 
        bottom: 90px; 
        right: 20px; 
        width: 420px; 
        background: white; 
        border-radius: 12px; 
        display: none; 
        flex-direction: column; 
        box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.15); 
        z-index: 1050;
        border: 1px solid #eee;
    }
    .chatbot-header { 
        background: #156e80; /* BRAND COLOR */
        color: white; 
        padding: 15px; 
        text-align: center; 
        font-size: 16px; 
        font-weight: 600; 
        border-top-left-radius: 12px; 
        border-top-right-radius: 12px;
    }
    .chatbot-body { 
        padding: 15px; 
        max-height: 400px; 
        overflow-y: auto;
    }
    .chatbot-search-input {
        font-size: 14px;
        border-radius: 8px;
    }

    /* Search Results for Chatbot */
    .result {
        display: block;
        text-decoration: none;
        background: #ffffff;
        border: 1px solid #e0e0e0;
        padding: 10px;
        margin-top: 8px;
        border-radius: 6px;
        transition: all 0.2s ease-in-out;
        font-size: 13px;
        cursor: pointer;
        color: #333;
    }
    .result:hover {
        background: #156e80;
        color: #fff;
        border-color: #156e80;
        text-decoration: none;
    }

    /* Fullscreen Overlay for Chatbot Articles */
    .overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
    }
    .overlay-content {
        background: white;
        width: 90%; /* Increased slightly for better read */
        height: 90%;
        border-radius: 12px;
        padding: 0; /* Remove padding to let iframe fill */
        position: relative;
        overflow: hidden; 
    }
    .close-btn {
        position: absolute;
        top: 15px;
        right: 25px;
        z-index: 10;
        background-color: #156e80 !important;
        color: white !important;
        border: none !important;
        border-radius: 4px !important;
        width: 32px !important;
        height: 32px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        font-size: 24px !important;
        line-height: 1 !important;
        cursor: pointer !important;
        transition: background-color 0.3s ease;
    }
    .close-btn:hover {
        background-color: #003143 !important;
    }
    
    /* Text bubble next to chatbot button */
    .chatbot-hint {
        position: fixed; 
        bottom: 35px; 
        right: 90px; 
        font-size: 14px; 
        font-weight: 600; 
        color: #003143;
        background: white;
        padding: 5px 10px;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        z-index: 1049;
    }
    /* --- END CHATBOT STYLES --- */
    
    @media (max-width: 768px) {
      .main-content {
        padding: 20px;
      }
      .zenora-intro {
        flex-direction: column;
        align-items: flex-start;
      }
      .zenora-intro img {
        margin-bottom: 10px;
      }
      
      .header-buttons {
        position: static;
        text-align: right;
        margin-bottom: 15px;
      }
      .zenora-header h1 {
        margin-right: 0;
      }

      /* ADDED: On mobile, disable the hover effect */
      .card-with-hover-text:hover .card-normal-content {
        opacity: 1;
        visibility: visible;
      }
      .card-with-hover-text:hover .card-hover-content {
        opacity: 0;
        visibility: hidden;
      }
      
      .chatbot-container {
        width: 90%;
        right: 5%;
        bottom: 90px;
      }
      .chatbot-hint {
        display: none; /* Hide hint on mobile to save space */
      }
    }
  </style>
</head>
<body>

  <div class="main-content" id="main-content-area">
    
    <div class="zenora-header">
      <div class="header-buttons">
        <button class="btn btn-sm me-2">Updates</button>
        <button class="btn btn-sm">Help</button>
      </div>

      <h1>Welcome to the ZN ShipPalm Learning Help Centre</h1>
      <p class="subtitle">Your central knowledge hub for ShipPalm</p>
      <div class="search-bar">
        <input type="text" placeholder="Ask me anything..." disabled />
        <button><i class="bi bi-robot"></i></button>
      </div>
      <div class="zenora-intro">
        <img src="https://cdn-icons-png.flaticon.com/512/4712/4712189.png" alt="ZENORA Robot" />
        <div class="zenora-intro-text">
          <h5>ZENORA AI Assistant</h5>
          <p>Hi, I’m ZENORA – your ZeroNorth Resource Assistant. I’m here to help you quickly find answers in product guides, training, FAQs, and how-to videos — everything you need to learn ShipPalm in seconds.</p>
        </div>
      </div>
    </div>
    <h2 class="fw-bold mb-4 text-primary">Explore Learning Resources</h2>
    <div class="row g-4">
      
      <div class="col-12 col-sm-6 col-lg-3" id="get-started-card">
        <div class="card p-4 text-center card-with-hover-text">
          <div class="card-normal-content">
            <i class="bi bi-rocket-takeoff"></i>
            <h5 class="card-title">Get Started</h5>
          </div>
          <div class="card-hover-content">
            <p>Take a quick tour video to get familiar with the products right away.</p>
          </div>
        </div>
      </div>

      <div class="col-12 col-sm-6 col-lg-3" id="apps-card">
        <div class="card p-4 text-center card-with-hover-text">
          <div class="card-normal-content">
            <i class="bi bi-grid"></i>
            <h5 class="card-title">Apps</h5>
          </div>
          <div class="card-hover-content">
            <p>Discover all available apps and what each one can do for you.</p>
          </div>
        </div>
      </div>

      <div class="col-12 col-sm-6 col-lg-3" id="userguide-card">
        <div class="card p-4 text-center card-with-hover-text">
          <div class="card-normal-content">
            <i class="bi bi-book"></i>
            <h5 class="card-title">User Guides</h5>
          </div>
          <div class="card-hover-content">
            <p>Follow clear, practical instructions to complete tasks easily.</p>
          </div>
        </div>
      </div>

      <div class="col-12 col-sm-6 col-lg-3" id="howtovideos-card">
        <div class="card p-4 text-center card-with-hover-text">
          <div class="card-normal-content">
            <i class="bi bi-lightbulb"></i>
            <h5 class="card-title">How-To Videos</h5>
          </div>
          <div class="card-hover-content">
            <p>Learn faster through short, engaging video tutorials.</p>
          </div>
        </div>
      </div>

      <div class="col-12 col-sm-6 col-lg-3" id="faq-card">
        <div class="card p-4 text-center card-with-hover-text">
          <div class="card-normal-content">
            <i class="bi bi-question-circle"></i>
            <h5 class="card-title">FAQs</h5>
          </div>
          <div class="card-hover-content">
            <p>Find answers to common questions and important best practices.</p>
          </div>
        </div>
      </div>

      <div class="col-12 col-sm-6 col-lg-3" id="whatsnew-card">
        <div class="card p-4 text-center card-with-hover-text">
          <div class="card-normal-content">
            <i class="bi bi-megaphone"></i>
            <h5 class="card-title">What's New</h5>
          </div>
          <div class="card-hover-content">
            <p>Keep track of new features, improvements, and announcements.</p>
          </div>
        </div>
      </div>
     
      <div class="col-12 col-sm-6 col-lg-3" id="training-card">
        <div class="card p-4 text-center card-with-hover-text">
          <div class="card-normal-content">
            <i class="bi bi-collection-play"></i>
            <h5 class="card-title">Training Library</h5>
          </div>
          <div class="card-hover-content">
            <p>Upskill anytime with structured courses designed for your role.</p>
          </div>
        </div>
      </div>
   
      <div class="col-12 col-sm-6 col-lg-3">
        <div class="card p-4 text-center card-with-hover-text">
          <div class="card-normal-content">
            <i class="bi bi-headset"></i>
            <h5 class="card-title">Support</h5>
          </div>
          <div class="card-hover-content">
            <p>Reach our support team whenever you need assistance.</p>
          </div>
        </div>
      </div>

      <div class="col-12 col-sm-6 col-lg-3">
        <div class="card p-4 text-center card-with-hover-text">
          <div class="card-normal-content">
            <i class="bi bi-star"></i>
            <h5 class="card-title">Feedback</h5>
          </div>
          <div class="card-hover-content">
            <p>Share your thoughts to improve your learning experience.</p>
          </div>
        </div>
      </div>
    </div>
    
  </div>
  
  <div class="chatbot-hint">Search Articles!</div>
  <button class="chatbot-btn" onclick="toggleChatbot()">
    <i class="bi bi-chat-text-fill"></i>
  </button>

  <div class="chatbot-container" id="chatbot">
    <div class="chatbot-header">
      Search Articles <i class="bi bi-search ms-1"></i>
    </div>
    <div class="chatbot-body">
      <input type="text" id="searchInput" class="form-control chatbot-search-input mb-2" placeholder="Type keywords..." onkeyup="searchArticles()">
      <div id="results" class="mt-2"></div>
    </div>
  </div>

  <div class="overlay" id="articleOverlay">
    <div class="overlay-content">
     <button type="button" class="close-btn" onclick="closeOverlay()" aria-label="Close">&times;</button>
      <iframe id="articleFrame" style="width:100%; height:100%; border: none; display: block; overflow: hidden;"></iframe>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  
  <script>
    // --- 1. Initialize all Bootstrap tooltips ---
    const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
    const tooltipList = [...tooltipTriggerList].map(el => new bootstrap.Tooltip(el))

    
    // --- 2. Add hover effect for the DISABLED search bar ---
    function initializeSearchHover() {
      const searchBar = document.querySelector('.search-bar');
      if (!searchBar) return; 
      
      const searchInput = searchBar.querySelector('input');
      const originalPlaceholder = searchInput.placeholder;

      searchBar.addEventListener('mouseenter', () => {
        searchInput.placeholder = 'Coming soon';
        searchInput.classList.add('hover-effect');
      });

      searchBar.addEventListener('mouseleave', () => {
        searchInput.placeholder = originalPlaceholder;
        searchInput.classList.remove('hover-effect');
      });
    }

    // --- 3. Card Click Listeners (All paths verified) ---
    function initializeCardClick() {
        const getStartedCard = document.getElementById('get-started-card');
        if (getStartedCard) {
            getStartedCard.addEventListener('click', () => {
                window.location.href = 'getstarted/getstarted.html';
            });
        }
    }

    function initializeAppsCardClick() {
        const appsCard = document.getElementById('apps-card');
        if (appsCard) {
            appsCard.addEventListener('click', () => {
                window.location.href = 'apps/apps.html';
            });
        }
    }

    function initializeUserGuideCardClick() {
        const userGuideCard = document.getElementById('userguide-card');
        if (userGuideCard) {
            userGuideCard.addEventListener('click', () => {
                window.location.href = 'userguide/userguide.html';
            });
        }
    }
    
    function initializeHowToVideosCardClick() {
        const howToVideosCard = document.getElementById('howtovideos-card');
        if (howToVideosCard) {
            howToVideosCard.addEventListener('click', () => {
                window.location.href = 'howtovideos/howtovideos.html';
            });
        }
    }
    
    function initializeFaqCardClick() {
        const faqCard = document.getElementById('faq-card');
        if (faqCard) {
            faqCard.addEventListener('click', () => {
                window.location.href = 'faqs/faqs.html';
            });
        }
    }

    function initializeWhatsNewCardClick() {
        const whatsNewCard = document.getElementById('whatsnew-card');
        if (whatsNewCard) {
            whatsNewCard.addEventListener('click', () => {
                window.location.href = 'whatsnew/whatsnew.html';
            });
        }
    }

    function initializeTrainingCardClick() {
        const trainingCard = document.getElementById('training-card');
        if (trainingCard) {
            trainingCard.addEventListener('click', () => {
                window.location.href = 'traininglibrary/traininglibrary.html';
            });
        }
    }

    // --- 4. Chatbot Search Logic ---
    const articles = [
        { title: "Creating Manual Purchase Request Transaction", keywords: "Creating Manual Purchase Request Transaction", url: "askme/shore/purchase/1. Creating Manual Purchase Request Transaction.html" },
        { title: "Creating Vendor Tags", keywords: "Creating Vendor Tags", url: "askme/shore/purchase/2. Creating Vendor Tags.html" },
        { title: "Creating a Purchase Request to Request for Quotation (RFQ)", keywords: "Creating a Purchase Request to Request for Quotation (RFQ)", url: "askme/shore/purchase/3. Creating a Purchase Request to Request for Quotation (RFQ).html" },
        { title: "Creating Purchase Quotation in ERFQ Link", keywords: "Creating Purchase Quotation in ERFQ Link", url: "askme/shore/purchase/4. Creating Purchase Quotation in ERFQ Link.html" },
        { title: "Creating Manual Purchase Quotation", keywords: "Creating Manual Purchase Quotation", url: "askme/shore/purchase/5. Creating Manual Purchase Quotation.html" },
        { title: "Creating Quote to Comparison", keywords: "Creating Quote to Comparison", url: "askme/shore/purchase/6. Creating Quote to Comparison.html" },
        { title: "Approving Quote to Comparison", keywords: "Approving Quote to Comparison", url: "askme/shore/purchase/7. Approving Quote to Comparison.html" },
        { title: "Creating Purchase order based on Quote to comparison", keywords: "Creating Purchase order based on Quote to comparison", url: "askme/shore/purchase/8. Creating Purchase order based on Quote to comparison.html" },
        { title: "Creating Purchase order based on purchase quotation", keywords: "Creating Purchase order based on purchase quotation", url: "askme/shore/purchase/9. Creating Purchase order based on purchase quotation.html" },
        { title: "Creating Purchase order based on price catalog", keywords: "Creating Purchase order based on price catalog", url: "askme/shore/purchase/10. Creating Purchase order based on price catalog.html" },
        { title: "Creating Purchase order based on purchase requisition", keywords: "Creating Purchase order based on purchase requisition", url: "askme/shore/purchase/11. Creating Purchase order based on purchase requisition.html" },
        { title: "Creating Direct Purchase Order", keywords: "Creating Direct Purchase Order", url: "askme/shore/purchase/12. Creating Direct Purchase Order.html" },
        { title: "Searching Retrieving a Purchase Order", keywords: "Searching Retrieving a Purchase Order", url: "askme/shore/purchase/13. Searching Retrieving a Purchase Order.html" },
        { title: "Amending a Purchase Order", keywords: "Amending a Purchase Order", url: "askme/shore/purchase/14. Amending a Purchase Order.html" },
        { title: "Acknowledging a Purchase Order", keywords: "Acknowledging a Purchase Order", url: "askme/shore/purchase/15. Acknowledging a Purchase Order.html" },
        { title: "Requesting a Purchase Order Approval", keywords: "Requesting a Purchase Order Approval", url: "askme/shore/purchase/16. Requesting a Purchase Order Approval.html" },
        { title: "Sending Reminder for Purchase Order Approval", keywords: "Sending Reminder for Purchase Order Approval", url: "askme/shore/purchase/17. Sending Reminder for Purchase Order Approval.html" },
        { title: "Creating Manual FA2", keywords: "Creating Manual FA2", url: "askme/shore/purchase/18. Creating Manual FA2.html" },
        { title: "Creating Transfer order", keywords: "Creating Transfer order", url: "askme/shore/purchase/19. Creating Transfer order.html" },
        { title: "Creating Manual FA4", keywords: "Creating Manual FA4", url: "askme/shore/purchase/20. Creating Manual FA4.html" },
        { title: "Creating Goods Receipt Transaction", keywords: "Creating Goods Receipt Transaction", url: "askme/shore/purchase/21. Creating Goods Receipt Transaction.html" },
        { title: "Purchase Order Approval Process", keywords: "Purchase Order Approval Process", url: "askme/shore/purchase/22. Purchase Order Approval Process.html" },
        { title: "Quote to Comparison Approval", keywords: "Quote to Comparison Approval", url: "askme/shore/purchase/23. Quote to Comparison Approval.html" },
        { title: "Purchase Requisition cancellation", keywords: "Purchase Requisition cancellation", url: "askme/shore/purchase/24. Purchase Requisition cancellation.html" },
        { title: "Accessing Purchase Quotes from Cue Card", keywords: "Accessing Purchase Quotes from Cue Card", url: "askme/shore/purchase/25. Accessing Purchase Quotes from Cue Card.html" },
        { title: "Undo GRN Shore", keywords: "Undo GRN", url: "askme/shore/purchase/26. Undo GRN.html" },
        { title: "QTC (Compare quotes and order update details)", keywords: "QTC (Compare quotes and order update details)", url: "askme/shore/purchase/28. QTC (Compare quotes and order update details).html" },
        { title: "Activation of pending jobs at shore", keywords: "Activation of pending jobs at shore", url: "askme/shore/pms/1. Activation of pending jobs at shore.html" },
        { title: "How to Create and Submit Non-Conformities Report", keywords: "How to Create and Submit Non-Conformities Report", url: "askme/shore/hseq/1. How to Create and Submit Non-Conformities Report.html" },
        { title: "Accident Report", keywords: "Accident Report", url: "askme/shore/hseq/2. Accident Report.html" },
        { title: "How to Create and submit Best Practice Report", keywords: "How to Create and submit Best Practice Report", url: "askme/shore/hseq/3. How to Create and submit Best Practice Report.html" },
        { title: "How to Create and submit Suggestion for Improvement Report (SFI)", keywords: "How to Create and submit Suggestion for Improvement Report (SFI)", url: "askme/shore/hseq/4. How to Create and submit Suggestion for Improvement Report (SFI).html" },
        { title: "How to Create and Submit Near Miss Report", keywords: "How to Create and Submit Near Miss Report", url: "askme/shore/hseq/5. How to Create and Submit Near Miss Report.html" },
        { title: "How to create Risk Assessment", keywords: "How to create Risk Assessment", url: "askme/shore/hseq/6. How to create Risk Assessment.html" },
        { title: "Permit to work", keywords: "Permit to work", url: "askme/shore/hseq/7. Permit to work.html" },
        { title: "How to Create an Internal Inspection Report", keywords: "How to Create an Internal Inspection Report", url: "askme/shore/hseq/8. How to Create an Internal Inspection Report.html" },
        { title: "How to Create an External Inspection Report", keywords: "How to Create an External Inspection Report", url: "askme/shore/hseq/9. How to Create an External Inspection Report.html" },
        { title: "How to Create an Internal Inspection Audit", keywords: "How to Create an Internal Inspection Audit", url: "askme/shore/hseq/10. How to Create an Internal Inspection Audit.html" },
        { title: "How to Create an External Inspection Audit", keywords: "How to Create an External Inspection Audit", url: "askme/shore/hseq/11. How to Create an External Inspection Audit.html" },
        { title: "TMSA Audit", keywords: "TMSA Audit", url: "askme/shore/hseq/12. TMSA Audit.html" },
        { title: "Handover Reports", keywords: "Handover Reports", url: "askme/shore/hseq/13. Handover Reports.html" },
        { title: "Takeover Reports", keywords: "Takeover Reports", url: "askme/shore/hseq/14. Takeover Reports.html" },
        { title: "How to Create Safety meeting Report", keywords: "How to Create Safety meeting Report", url: "askme/shore/hseq/15. How to Create Safety meeting Report.html" },
        { title: "Surveys - Types", keywords: "Surveys - Types", url: "askme/shore/certificate/1. Surveys - Types.html" },
        { title: "Due Date for each type of Surveys", keywords: "Due Date for each type of Surveys", url: "askme/shore/certificate/2. Due Date for each type of Surveys.html" },
        { title: "Recording and closing of deviations for certificates", keywords: "Recording and closing of deviations for certificates", url: "askme/shore/certificate/3. Recording and closing of deviations for certificates.html" },
        { title: "How to approve vessel Certificate", keywords: "How to approve vessel Certificate", url: "askme/shore/certificate/4. How to approve vessel Certificate.html" },
        { title: "Survey-Closure", keywords: "Survey-Closure", url: "askme/shore/certificate/5. Survey-Closure.html" },
        { title: "How to Create office Certificate", keywords: "How to Create office Certificate", url: "askme/shore/certificate/6. How to Create office Certificate.html" },
        { title: "Creating Requisition worksheet-based purchase Request", keywords: "Creating Requisition worksheet-based purchase Request", url: "askme/ship/purchase/2. Creating Requisition worksheet-based purchase Request.html" },
        { title: "Creating work order-based service request", keywords: "Creating work order-based service request", url: "askme/ship/purchase/3. Creating work order-based service request.html" },
        { title: "Searching Retrieving a Purchase Order", keywords: "Searching Retrieving a Purchase Order", url: "askme/ship/purchase/4. Searching Retrieving a Purchase Order.html" },
        { title: "Force Closing a Purchase Order for a partially delivered purchase Request", keywords: "Force Closing a Purchase Order for a partially delivered purchase Request", url: "askme/ship/purchase/5. Force Closing a Purchase Order for a partially delivered purchase Request.html" },
        { title: "Creating a Goods Receipt Transaction", keywords: "Creating a Goods Receipt Transaction", url: "askme/ship/purchase/6. Creating a Goods Receipt Transaction.html" },
        { title: "Printing GRN labels", keywords: "Printing GRN labels", url: "askme/ship/purchase/7. Printing GRN labels.html" },
        { title: "Updating Inventory for local purchase items", keywords: "Updating Inventory for local purchase items", url: "askme/ship/purchase/8. Updating Inventory for local purchase items.html" },
        { title: "Stock Adjustment Transaction", keywords: "Stock Adjustment Transaction", url: "askme/ship/purchase/9. Stock Adjustment Transaction.html" },
        { title: "Purchase Requisition Statuses", keywords: "Purchase Requisition Statuses", url: "askme/ship/purchase/10. Purchase Requisition Statuses.html" },
        { title: "Purchase Requisition Approval", keywords: "Purchase Requisition Approval", url: "askme/ship/purchase/12. Purchase Requisition Approval.html" },
        { title: "Undo GRN Ship", keywords: "Undo GRN", url: "askme/ship/purchase/14. Undo GRN.html" },
        { title: "Reporting Periodic work order-Calender based", keywords: "Reporting Periodic work order-Calender based", url: "askme/ship/pms/1. Reporting Periodic work order-Calender based.html" },
        { title: "Reporting Periodic work order-Counter based", keywords: "Reporting Periodic work order-Counter based", url: "askme/ship/pms/2. Reporting Periodic work order-Counter based.html" },
        { title: "Reporting of TMDS work orders", keywords: "Reporting of TMDS work orders", url: "askme/ship/pms/3. Reporting of TMDS work orders.html" },
        { title: "Reporting of Defect work orders", keywords: "Reporting of Defect work orders", url: "askme/ship/pms/4. Reporting of Defect work orders.html" },
        { title: "Creating of Non Periodic Work Orders", keywords: "Creating of Non Periodic Work Orders", url: "askme/ship/pms/5. Creating of Non Periodic Work Orders.html" },
        { title: "Reporting of Non-Periodic work Orders", keywords: "Reporting of Non-Periodic work Orders", url: "askme/ship/pms/6. Reporting of Non-Periodic work Orders.html" },
        { title: "How to Request Deferment for Work Orders", keywords: "How to Request Deferment for Work Orders", url: "askme/ship/pms/7. How to Request Deferment for Work Orders.html" },
        { title: "How to Close Periodic Work Orders", keywords: "How to Close Periodic Work Orders", url: "askme/ship/pms/8. How to Close Periodic Work Orders.html" },
        { title: "How to Close Non-Periodic work Orders - Copy", keywords: "How to Close Non-Periodic work Orders - Copy", url: "askme/ship/pms/9. How to Close Non-Periodic work Orders - Copy.html" },
        { title: "Activation of pending jobs at ship", keywords: "Activation of pending jobs at ship", url: "askme/ship/pms/10. Activation of pending jobs at ship.html" },
        { title: "How to Create and Submit Non-Conformities Report", keywords: "How to Create and Submit Non-Conformities Report", url: "askme/ship/hseq/1. How to Create and Submit Non-Conformities Report.html" },
        { title: "Accident Report", keywords: "Accident Report", url: "askme/ship/hseq/2. Accident Report.html" },
        { title: "How to Create and submit Best Practice Report", keywords: "How to Create and submit Best Practice Report", url: "askme/ship/hseq/3. How to Create and submit Best Practice Report.html" },
        { title: "How to Create and submit Suggestion for Improvement Report (SFI)", keywords: "How to Create and submit Suggestion for Improvement Report (SFI)", url: "askme/ship/hseq/4. How to Create and submit Suggestion for Improvement Report (SFI).html" },
        { title: "How to Create and Submit Near Miss Report", keywords: "How to Create and Submit Near Miss Report", url: "askme/ship/hseq/5. How to Create and Submit Near Miss Report.html" },
        { title: "Zero Harm Safety Observation Report", keywords: "Zero Harm Safety Observation Report", url: "askme/ship/hseq/6. Zero Harm Safety Observation Report.html" },
        { title: "How to create Risk Assessment", keywords: "How to create Risk Assessment", url: "askme/ship/hseq/7. How to create Risk Assessment.html" },
        { title: "Permit to work", keywords: "Permit to work", url: "askme/ship/hseq/8. Permit to work.html" },
        { title: "How to Create an Internal Inspection Report", keywords: "How to Create an Internal Inspection Report", url: "askme/ship/hseq/9. How to Create an Internal Inspection Report.html" },
        { title: "How to Create an External Inspection Report", keywords: "How to Create an External Inspection Report", url: "askme/ship/hseq/10. How to Create an External Inspection Report.html" },
        { title: "How to Create an Internal Inspection Audit", keywords: "How to Create an Internal Inspection Audit", url: "askme/ship/hseq/11. How to Create an Internal Inspection Audit.html" },
        { title: "How to Create an External Inspection Audit", keywords: "How to Create an External Inspection Audit", url: "askme/ship/hseq/12. How to Create an External Inspection Audit.html" },
        { title: "Ackknowledge Broadcast", keywords: "Ackknowledge Broadcast", url: "askme/ship/hseq/13. Ackknowledge Broadcast.html" },
        { title: "Handover Reports", keywords: "Handover Reports", url: "askme/ship/hseq/14. Handover Reports.html" },
        { title: "Takeover Reports", keywords: "Takeover Reports", url: "askme/ship/hseq/15. Takeover Reports.html" },
        { title: "How to Create Safety meeting Report", keywords: "How to Create Safety meeting Report", url: "askme/ship/hseq/16. How to Create Safety meeting Report.html" },
        { title: "How to Create Vessel Certificate", keywords: "How to Create Vessel Certificate", url: "askme/ship/certificate/1. How to Create Vessel Certificate.html" },
        { title: "How to Renew Vessel Certiicate", keywords: "How to Renew Vessel Certiicate", url: "askme/ship/certificate/2. How to Renew Vessel Certiicate.html" },
        { title: "Attachments-Certificates", keywords: "Attachments-Certificates", url: "askme/ship/certificate/3. Attachments-Certificates.html" },
        { title: "Survey-Extension", keywords: "Survey-Extension", url: "askme/ship/certificate/4. Survey-Extension.html" },
        { title: "Request for Extension of Deviation", keywords: "Request for Extension of Deviation", url: "askme/ship/certificate/5. Request for Extension of Deviation.html" },
        { title: "Creation of Occasional survey for certificates", keywords: "Creation of Occasional survey for certificates", url: "askme/ship/certificate/8. Creation of Occasional survey for certificates.html" },
        { title: "Bulkdownload Certificates Survey", keywords: "Bulkdownload Certificates Survey", url: "askme/ship/certificate/9. Bulkdownload Certificates Survey.html" },
    ];

    function toggleChatbot() {
        let chatbot = document.getElementById('chatbot');
        chatbot.style.display = chatbot.style.display === "flex" ? "none" : "flex";
        // Focus input when opening
        if(chatbot.style.display === "flex") {
            document.getElementById('searchInput').focus();
        }
    }

    function searchArticles() {
        let input = document.getElementById('searchInput').value.toLowerCase().trim();
        let resultsDiv = document.getElementById('results');
        resultsDiv.innerHTML = "";

        if (input.length === 0) return;

        let searchWords = input.split(/\s+/);

        let foundResults = articles.filter(article => {
            let keywords = article.keywords.toLowerCase();
            if (keywords.includes(input)) return true;
            return searchWords.some(word => keywords.includes(word));
        });

        if (foundResults.length === 0) {
            resultsDiv.innerHTML = "<p class='text-muted text-center small mt-2'>No matching articles found.</p>";
            return;
        }

        foundResults.forEach(article => {
            let linkDiv = document.createElement("div");
            linkDiv.innerHTML = article.title;
            linkDiv.className = "result";
            linkDiv.onclick = () => openOverlay(article.url);
            resultsDiv.appendChild(linkDiv);
        });
    }

    function openOverlay(url) {
        const overlay = document.getElementById('articleOverlay');
        const iframe = document.getElementById('articleFrame');
        if (!overlay || !iframe) return;

        // Reset iframe height logic
        iframe.onload = function() {
            try {
                // Attempt to auto-resize (works only for same-origin)
                const contentDoc = iframe.contentWindow.document;
                const body = contentDoc.body;
                const html = contentDoc.documentElement;

                if (body) {
                    body.style.margin = '0';
                    body.style.padding = '0';
                    // Allow scroll inside the iframe if content is long
                    body.style.overflow = 'auto'; 
                }
            } catch (e) {
                // Cross-origin restriction or other error; 
                // Default CSS handles 100% height
                console.log("Iframe load handled");
            }
        };

        iframe.src = 'about:blank';
        setTimeout(() => {
            iframe.src = url;
            overlay.style.display = "flex";
        }, 0);
    }

    function closeOverlay() {
        const overlay = document.getElementById('articleOverlay');
        const iframe = document.getElementById('articleFrame');
        if (overlay) overlay.style.display = "none";
        if (iframe) {
            iframe.src = ""; // Clear src
            iframe.onload = null; 
        }
    }

    // --- 5. Run all scripts on page load ---
    initializeSearchHover();
    initializeCardClick();
    initializeAppsCardClick();
    initializeUserGuideCardClick();
    initializeHowToVideosCardClick();
    initializeFaqCardClick();
    initializeWhatsNewCardClick();
    initializeTrainingCardClick();
  </script>
  
</body>
</html>
